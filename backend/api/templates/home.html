{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Car Listings</title>
</head>
<body>
  <header>
    <nav id="auth-links"></nav>
  </header>
  <h1>All Car Listings</h1>
  <ul id="car-list"></ul>

  <script src="{% static 'header.js' %}"></script>
  <script>
    async function loadCars() {
      const resp = await fetch('/api/cars/');
      const cars = await resp.json();
      const list = document.getElementById('car-list');
      list.innerHTML = '';
      cars.forEach(car => {
        const li = document.createElement('li');
        li.textContent = `${car.make} ${car.model} - $${car.price_per_day}/day`;
        list.appendChild(li);
      });
    }
    loadCars();
  </script>
</body>
</html>
